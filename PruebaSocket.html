<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <title>Socket.IO Chat</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    </head>
    <body class="bg-gradient-to-br from-indigo-100 to-white min-h-screen flex items-center justify-center font-sans">
        <div class="bg-white shadow-2xl rounded-2xl p-8 w-full max-w-md">
            <h1 class="text-2xl font-bold text-center text-indigo-600 mb-6">ðŸ’¬ Cliente Socket.IO</h1>

            <div class="flex items-center gap-2 mb-4">
                <input
                    id="messageInput"
                    type="text"
                    placeholder="Escribe un mensaje..."
                    class="flex-1 border border-indigo-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition" />
                <button
                    onclick="sendMessage()"
                    class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-4 py-2 rounded-xl transition">
                    Enviar
                </button>
            </div>

            <ul id="messages" class="space-y-2 max-h-64 overflow-y-auto text-gray-700 text-sm">
                <!-- Mensajes se mostrarÃ¡n aquÃ­ -->
            </ul>
        </div>

        <script>
            const socket = io('https://jwtapi-xp0m.onrender.com');

            socket.on('connect', () => {
                console.log('ðŸŸ¢ Conectado con ID:', socket.id);
            });

            socket.on('receiveMessage', (msg) => {
                const li = document.createElement('li');
                li.textContent = msg;
                li.className = 'bg-indigo-100 p-2 rounded-xl';
                document.getElementById('messages').appendChild(li);
            });

            function sendMessage() {
                const input = document.getElementById('messageInput');
                const msg = input.value.trim();
                if (msg !== '') {
                    socket.emit('sendMessage', msg);
                    input.value = '';
                }
            }
        </script>
    </body>
</html>
